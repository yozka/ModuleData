#pragma once
#include <QObject>
#include <QSharedPointer>
#include <QString>
#include <QWidget>
#include <QList>

#include "MarkingContainer.h"
///--------------------------------------------------------------------------------------

namespace Chart
{
	///--------------------------------------------------------------------------------------





	///--------------------------------------------------------------------------------------
	class AChartWidget;
	///--------------------------------------------------------------------------------------






	 ///=====================================================================================
	///
	/// ОДин график
	/// 
	/// 
	///--------------------------------------------------------------------------------------
	class AChart
			: 
				public QObject
	{
		Q_OBJECT

	public:
		AChart();


		virtual ~AChart();

		QString		title() const;		//возвратим название диаграмы
		QWidget*	createWidget();		//создание представление данных

		void		clear();			//очистка всей диаграммы, уберание всех зависемостей

		void		setMarking(const Marking::PMarkingContainer &marking); //установка действующих закладок

	private:

		int mNumber; //тестовый номер диаграмы

		Marking::PMarkingContainer	mMarking; //закладки

		QList<AChartWidget*>		mWidgets; //список привязанных виджетов

	private slots:


		void slot_destroyedWidget(QObject *obj); //удаление виджета
	};
	///--------------------------------------------------------------------------------------




		
	///--------------------------------------------------------------------------------------
	typedef QSharedPointer<AChart> PChart;
	///--------------------------------------------------------------------------------------



//-------------------------------------------------------------------------------------------
}//namespace

