#include "Mark.h"
#include <QVariant>
#include <QTime>
#include <QDateTime>

#include "Marking.h"
///--------------------------------------------------------------------------------------



///--------------------------------------------------------------------------------------
using namespace Chart;
///--------------------------------------------------------------------------------------








 ///=====================================================================================
///
/// Constructor
/// 
/// 
///--------------------------------------------------------------------------------------
AMark :: AMark (const double time, const double value, const Marking::PWMarking &marking)
	:
	mTime(time),
	mValue(value),
	mMarking(marking)
{

}
///--------------------------------------------------------------------------------------







 ///=====================================================================================
///
/// Destructor
/// 
/// 
///--------------------------------------------------------------------------------------
AMark :: ~AMark ()
{

}
///--------------------------------------------------------------------------------------






 ///=====================================================================================
///
/// возвратим указатель на метку 
/// 
/// 
///--------------------------------------------------------------------------------------
Marking::PWMarking AMark :: marking() const
{
	return mMarking;
}
///--------------------------------------------------------------------------------------






 ///=====================================================================================
///
/// возратим описание
/// 
/// 
///--------------------------------------------------------------------------------------
QString AMark :: description() const
{
	if (mMarking.isNull())
	{
		return "<unknow>";
	}
	return mMarking.data()->description();
}
///--------------------------------------------------------------------------------------






 ///=====================================================================================
///
/// время
/// 
/// 
///--------------------------------------------------------------------------------------
QString AMark :: time() const
{
	QTime time(0,0,0);
	time = time.addMSecs(mTime);
	return time.toString("HH:mm:ss:zzz");
}
///--------------------------------------------------------------------------------------





 ///=====================================================================================
///
/// значение
/// 
/// 
///--------------------------------------------------------------------------------------
QString AMark :: value() const
{
	return QString::number(mValue);
}
///--------------------------------------------------------------------------------------

